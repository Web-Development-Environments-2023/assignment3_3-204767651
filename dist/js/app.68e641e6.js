(function(e){function t(t){for(var a,n,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,n=1;n<r.length;n++){var o=r[n];0!==s[o]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},n={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-4223e300":"c858ac28","chunk-4b07b8b7":"8cdd1c5d","chunk-4bb7d71a":"d6367a56","chunk-50394b50":"0d10bf25","chunk-65f18c2f":"d1718269","chunk-79a5f55c":"f50dbde1","chunk-4ecd7aaa":"5fae3c8e","chunk-799aeb12":"ce88b62a"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-4223e300":1,"chunk-4b07b8b7":1,"chunk-4bb7d71a":1,"chunk-50394b50":1,"chunk-65f18c2f":1,"chunk-4ecd7aaa":1,"chunk-799aeb12":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var a="css/"+({}[e]||e)+"."+{"chunk-4223e300":"78a72b7b","chunk-4b07b8b7":"4d101a08","chunk-4bb7d71a":"6e949f55","chunk-50394b50":"13747cdd","chunk-65f18c2f":"5c52107e","chunk-79a5f55c":"31d6cfe0","chunk-4ecd7aaa":"6fe87692","chunk-799aeb12":"25db341e"}[e]+".css",s=c.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===s))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===a||u===s)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete n[e],m.parentNode.removeChild(m),r(i)},m.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){n[e]=0})));var a=s[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,r){a=s[e]=[t,r]}));t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(m);var r=s[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,r[1](d)}s[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"110a":function(e,t,r){"use strict";var a=r("18a5"),n=r.n(a);n.a},"18a5":function(e,t,r){},"4fc7":function(e,t,r){"use strict";var a=r("dc56"),n=r.n(a);n.a},"4ff1":function(e,t,r){"use strict";var a=r("786a"),n=r.n(a);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("4160"),r("d3b7"),r("159b"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"content"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:{name:"main"}}},[e._v("Main Page")]),e._v(" | "),r("router-link",{attrs:{to:{name:"search"}}},[e._v("Search")]),e._v(" | "),r("router-link",{attrs:{to:{name:"about"}}},[e._v("About")]),e._v(" | "),e.$root.store.username?r("div",{class:{active:e.isPersonalActive},attrs:{id:"personal-dropdown"}},[e._v(" Personal | "),r("div",{staticClass:"dropdown-content"},[r("router-link",{attrs:{to:{name:"favorites"}}},[e._v("Favorites Recipes")]),r("router-link",{attrs:{to:{name:"myrecipes"}}},[e._v("My Recipes")]),r("router-link",{attrs:{to:{name:"familyrecipes"}}},[e._v("Family Recipes")])],1)]):e._e(),e.$root.store.username?r("span",[r("button",{staticClass:"btn btn-success",attrs:{type:"button",id:"modalBtn","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}},[e._v(" Add Recipe ")])]):e._e(),r("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog modal-dialog-centered"},[r("div",{staticClass:"modal-content"},[e._m(0),r("div",{staticClass:"modal-body"},[r("form",{attrs:{id:"recipeForm"},on:{submit:e.saveRecipe}},[r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"title"}},[e._v("Title:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],staticClass:"form-control bg-custom",attrs:{type:"text",id:"title",required:""},domProps:{value:e.form.title},on:{input:function(t){t.target.composing||e.$set(e.form,"title",t.target.value)}}})]),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"cookingTime"}},[e._v("Cooking Time (minutes):")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.cookingTime,expression:"form.cookingTime"}],staticClass:"form-control bg-custom",attrs:{type:"number",id:"cookingTime",required:""},domProps:{value:e.form.cookingTime},on:{input:function(t){t.target.composing||e.$set(e.form,"cookingTime",t.target.value)}}})]),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"imageURL"}},[e._v("Image URL:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.imageURL,expression:"form.imageURL"}],staticClass:"form-control bg-custom",attrs:{type:"text",id:"imageURL"},domProps:{value:e.form.imageURL},on:{input:function(t){t.target.composing||e.$set(e.form,"imageURL",t.target.value)}}})]),r("div",{staticClass:"mb-3 form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vegan,expression:"form.vegan"}],staticClass:"form-check-input bg-custom",attrs:{type:"checkbox",id:"vegan"},domProps:{checked:Array.isArray(e.form.vegan)?e._i(e.form.vegan,null)>-1:e.form.vegan},on:{change:function(t){var r=e.form.vegan,a=t.target,n=!!a.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);a.checked?i<0&&e.$set(e.form,"vegan",r.concat([s])):i>-1&&e.$set(e.form,"vegan",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.form,"vegan",n)}}}),r("label",{staticClass:"form-check-label",attrs:{for:"vegan"}},[e._v("Vegan")])]),r("div",{staticClass:"mb-3 form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vegetarian,expression:"form.vegetarian"}],staticClass:"form-check-input bg-custom",attrs:{type:"checkbox",id:"vegetarian"},domProps:{checked:Array.isArray(e.form.vegetarian)?e._i(e.form.vegetarian,null)>-1:e.form.vegetarian},on:{change:function(t){var r=e.form.vegetarian,a=t.target,n=!!a.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);a.checked?i<0&&e.$set(e.form,"vegetarian",r.concat([s])):i>-1&&e.$set(e.form,"vegetarian",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.form,"vegetarian",n)}}}),r("label",{staticClass:"form-check-label",attrs:{for:"vegetarian"}},[e._v("Vegetarian")])]),r("div",{staticClass:"mb-3 form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.glutenFree,expression:"form.glutenFree"}],staticClass:"form-check-input bg-custom",attrs:{type:"checkbox",id:"glutenFree"},domProps:{checked:Array.isArray(e.form.glutenFree)?e._i(e.form.glutenFree,null)>-1:e.form.glutenFree},on:{change:function(t){var r=e.form.glutenFree,a=t.target,n=!!a.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);a.checked?i<0&&e.$set(e.form,"glutenFree",r.concat([s])):i>-1&&e.$set(e.form,"glutenFree",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.form,"glutenFree",n)}}}),r("label",{staticClass:"form-check-label",attrs:{for:"glutenFree"}},[e._v("Gluten-Free")])]),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"servings"}},[e._v("Servings:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.servings,expression:"form.servings"}],staticClass:"form-control bg-custom",attrs:{type:"number",id:"servings",required:""},domProps:{value:e.form.servings},on:{input:function(t){t.target.composing||e.$set(e.form,"servings",t.target.value)}}})]),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"instructions"}},[e._v("Instructions:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.instructions,expression:"form.instructions"}],staticClass:"form-control bg-custom",attrs:{id:"instructions",rows:"4"},domProps:{value:e.form.instructions},on:{input:function(t){t.target.composing||e.$set(e.form,"instructions",t.target.value)}}})]),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"ingredients"}},[e._v("Ingredients:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.ingredients,expression:"form.ingredients"}],staticClass:"form-control bg-custom",attrs:{id:"ingredients",rows:"4"},domProps:{value:e.form.ingredients},on:{input:function(t){t.target.composing||e.$set(e.form,"ingredients",t.target.value)}}})]),e._m(1)])])])])]),r("div",{attrs:{id:"reglog"}},[e.$root.store.username?r("span",[r("div",{attrs:{id:"user"}},[r("span",{staticClass:"username"},[e._v(e._s(e.$root.store.username))]),r("button",{staticClass:"logout-button",on:{click:e.logout}},[e._v("Logout")])])]):r("span",[e._m(2),r("div",{attrs:{id:"reglog-links"}},[r("router-link",{attrs:{to:{name:"register"}}},[e._v("Register")]),e._v(" | "),r("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")]),e._v(" | ")],1)])])],1),r("router-view")],1),e._m(3)])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("h1",{staticClass:"modal-title fs-5",attrs:{id:"exampleModalLabel"}},[e._v("Add Recipe")]),r("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[e._v("Close")]),r("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Save changes")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"guest"}},[r("h5",{staticStyle:{"font-weight":"bold"}},[e._v("Hello Guest:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",[r("div",{staticClass:"footer_container"},[r("p",[e._v("Developed by "),r("a",{attrs:{href:"https://github.com/idolou",target:"_blank",rel:"noopener noreferrer"}},[r("i",{staticClass:"fab fa-github"})]),e._v(" Ido Lourie - "),r("a",{attrs:{href:"https://github.com/EladShmulevich",target:"_blank",rel:"noopener noreferrer"}},[r("i",{staticClass:"fab fa-github"})]),e._v(" Elad Shmulevich")])])])}],i=(r("b0c0"),r("96cf"),r("1da1")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Add New Recipe")]),r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}})])},c=[],l={name:"AddRecipeModal",methods:{submitForm:function(){}}},u=l,d=(r("4ff1"),r("2877")),m=Object(d["a"])(u,o,c,!1,null,"26d67ade",null),p=(m.exports,{name:"App",data:function(){return{showAddRecipeModal:!1,form:{title:"",cookingTime:null,imageURL:"",popularity:null,vegan:!1,vegetarian:!1,glutenFree:!1,servings:null,instructions:"",ingredients:""}}},computed:{isPersonalActive:function(){return"favorites"===this.$route.name||"myrecipes"===this.$route.name||"familyrecipes"===this.$route.name}},methods:{logout:function(){var e=this;this.$root.store.logout(),this.$root.isLoggedIn=!1,this.$root.toast("Logout","User logged out successfully","success"),localStorage.setItem("isLoggedIn",!1),this.isLoggedIn=!1,sessionStorage.clear(),this.$router.push("/")["catch"]((function(){e.$forceUpdate()}))},openAddRecipeModal:function(){this.showAddRecipeModal=!0,console.log("openAddRecipeModal"),console.log(this.showAddRecipeModal)},closeAddRecipeModal:function(){this.showAddRecipeModal=!1},saveRecipe:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={title:e.form.title,cooking_time:e.form.cookingTime,image_url:e.form.imageURL,vegan:e.form.vegan,vegetarian:e.form.vegetarian,gluten_free:e.form.glutenFree,servings:e.form.servings,instructions:e.form.instructions,ingredients:e.form.ingredients},t.next=4,e.axios.post(e.$root.store.server_domain+"/users/myrecipes",r);case 4:a=t.sent,console.log("Recipe saved:",a.data),e.$root.toast("Rcipe saved","good luck","success"),e.form={title:"",cookingTime:null,imageURL:"",vegan:!1,vegetarian:!1,glutenFree:!1,servings:null,instructions:"",ingredients:""},t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$root.toast("Failed to save recipe",t.t0.message,"danger");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},components:{}}),f=p,g=(r("5c0b"),Object(d["a"])(f,n,s,!1,null,null,null)),v=g.exports,h=r("a7fe"),b=r.n(h),_=r("bc3a"),k=r.n(_),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"columns-container"},[r("div",{staticClass:"left-column"},[r("RecipePreviewList",{staticClass:"RandomRecipes",attrs:{title:"Discover these recipes:",recipes:e.randomRecipes||[],randomized:!0},on:{updateRandom:e.randomizeRecipes}})],1),r("div",{staticClass:"right-column"},[e.$root.store.username?[r("RecipePreviewList",{attrs:{title:"Recently Viewed Recipes:",recipes:e.lastViewedRecipes||[]}})]:[r("LoginPage",{staticStyle:{"padding-top":"50%","padding-bottom":"50%"},on:{loggedIn:e.login}})]],2)])])},y=[],C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h2",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.title))]),r("b-container",[r("div",{staticClass:"recipe-column"},[e._l(e.recipes,(function(e){return r("div",{key:e.id,staticClass:"recipe-wrapper"},[r("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),r("div",{staticClass:"button-wrapper"},[!0===e.randomized?r("b-button",{staticClass:"more-recipes-button",attrs:{width:"auto",variant:"success"},on:{click:function(t){return e.$emit("updateRandom")}}},[e._v(" More Recipes! ")]):e._e()],1)],2)])],1)},R=[],$=r("832a"),x={name:"RecipePreviewList",components:{RecipePreview:$["a"]},props:{title:{type:String,required:!1},recipes:{type:Array,required:!0},randomized:{type:Boolean,default:!1}},created:function(){this.recipes&&0!==!this.recipes.length||this.$emit("created")}},S=x,L=(r("110a"),Object(d["a"])(S,C,R,!1,null,"373eb4be",null)),I=L.exports,P=r("62cc"),O={components:{RecipePreviewList:I,LoginPage:P["default"]},data:function(){return{randomRecipes:[],lastViewedRecipes:[],isLoggedIn:!1}},created:function(){this.isLoggedIn=localStorage.getItem("isLoggedIn")},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)})))()},watch:{isLoggedIn:function(e){e&&this.getData()}},methods:{loggedIn:function(e){this.isLoggedIn=e},getRandomRecipes:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.length>0&&void 0!==e[0]&&e[0],a){r.next=5;break}if(n=sessionStorage.getItem("randomRecipes"),!n){r.next=5;break}return r.abrupt("return",JSON.parse(n));case 5:return r.prev=5,r.next=8,t.axios.get(t.$root.store.server_domain+"/recipes/random");case 8:return s=r.sent,sessionStorage.setItem("randomRecipes",JSON.stringify(s.data)),r.abrupt("return",s.data);case 13:r.prev=13,r.t0=r["catch"](5),t.$root.toast("Input Error","Couldn't get Random Recipes","danger");case 16:return r.abrupt("return",[]);case 17:case"end":return r.stop()}}),r,null,[[5,13]])})))()},getLastViewedRecipes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=sessionStorage.getItem("lastViewedRecipes"),!r){t.next=3;break}return t.abrupt("return",JSON.parse(r));case 3:return t.prev=3,t.next=6,e.axios.get(e.$root.store.server_domain+"/users/lastSeen",{withCredentials:!0});case 6:return a=t.sent,sessionStorage.setItem("lastViewedRecipes",JSON.stringify(a.data)),t.abrupt("return",a.data);case 11:t.prev=11,t.t0=t["catch"](3),e.$root.toast("Input Error","Couldn't get Last Viewed Recipes","danger");case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},getData:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.length>0&&void 0!==e[0]&&e[0],r.next=3,t.getRandomRecipes(a);case 3:if(t.randomRecipes=r.sent,!t.isLoggedIn||!t.$root.store.username){r.next=8;break}return r.next=7,t.getLastViewedRecipes();case 7:t.lastViewedRecipes=r.sent;case 8:case"end":return r.stop()}}),r)})))()},randomizeRecipes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRandomRecipes(!0);case 2:e.randomRecipes=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},F=O,E=(r("cac2"),Object(d["a"])(F,w,y,!1,null,"f21fa522",null)),A=E.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",[e._v("Four Oh Four you didn't")]),r("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},N=[],T={},M=Object(d["a"])(T,j,N,!1,null,null,null),U=M.exports,q=[{path:"/",name:"main",component:A},{path:"/register",name:"register",component:function(){return Promise.all([r.e("chunk-79a5f55c"),r.e("chunk-799aeb12")]).then(r.bind(null,"eaff"))}},{path:"/login",name:"login",component:function(){return Promise.resolve().then(r.bind(null,"62cc"))}},{path:"/search",name:"search",component:function(){return Promise.all([r.e("chunk-79a5f55c"),r.e("chunk-4ecd7aaa")]).then(r.bind(null,"37906"))}},{path:"/recipe/:recipeId",name:"recipe",component:function(){return r.e("chunk-65f18c2f").then(r.bind(null,"6619"))}},{path:"*",name:"notFound",component:U},{path:"/about",name:"about",component:function(){return r.e("chunk-4223e300").then(r.bind(null,"478b"))}},{path:"/favorites",name:"favorites",component:function(){return r.e("chunk-4bb7d71a").then(r.bind(null,"6ab5"))}},{path:"/myrecipes",name:"myrecipes",component:function(){return r.e("chunk-4b07b8b7").then(r.bind(null,"fda7"))}},{path:"/familyrecipes",name:"familyrecipes",component:function(){return r.e("chunk-50394b50").then(r.bind(null,"9983"))}}],J=q,V=r("8c4f"),D=r("1dce"),z=r.n(D),B=(r("f9e3"),r("2dd8"),r("1073")),H=r("cbd0"),G=r("b1fc"),W=r("7049"),K=r("a7e2"),Q=r("f9bc"),X=r("44d4"),Y=r("cca8"),Z=r("51c2"),ee=r("498a");a["default"].use(V["a"]);var te=new V["a"]({routes:J});[B["a"],H["a"],G["a"],W["a"],K["a"],Q["a"],X["a"],Y["a"],Z["a"],ee["a"]].forEach((function(e){return a["default"].use(e)})),a["default"].use(z.a),k.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),k.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),a["default"].use(b.a,k.a),a["default"].config.productionTip=!1;var re={server_domain:"https://recipeIL.cs.bgu.ac.il",username:localStorage.username,login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username)},logout:function(){localStorage.setItem("isLoggedIn",!1),console.log("logout"),localStorage.removeItem("username"),localStorage.removeItem("latestSearch"),this.username=void 0}};console.log(re),new a["default"]({router:te,data:function(){return{store:re}},methods:{toast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:r,solid:!0,appendToast:!1,autoHideDelay:2e3})}},render:function(e){return e(v)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var a=r("9c0c"),n=r.n(a);n.a},"62cc":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Login")]),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin(t)}}},[r("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[r("b-form-input",{staticClass:"custom-input",attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),r("b-form-invalid-feedback",[e._v(" Username is required ")])],1),r("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[r("b-form-input",{staticClass:"custom-input",attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),r("b-form-invalid-feedback",[e._v(" Password is required ")])],1),r("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"40%",display:"block"},attrs:{type:"submit",variant:"success"}},[e._v("Login")]),r("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),r("router-link",{attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},n=[],s=(r("96cf"),r("1da1")),i=r("b5ae"),o={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:i["required"]},password:{required:i["required"]}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},Login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post(e.$root.store.server_domain+"/Login",{username:e.form.username,password:e.form.password},{withCredentials:!0});case 3:t.sent,e.$root.isLoggedIn=!0,e.$root.store.login(e.form.username),localStorage.setItem("isLoggedIn",!0),"/"!==e.$route.path?e.$router.push("/"):location.reload(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},c=o,l=(r("4fc7"),r("2877")),u=Object(l["a"])(c,a,n,!1,null,"33fad47b",null);t["default"]=u.exports},"786a":function(e,t,r){},"832a":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("b-card",{staticClass:"recipe-preview"},[r("div",{staticClass:"recipe-body"},[r("div",{staticClass:"recipe-title",attrs:{title:e.recipe.title},on:{click:e.goToRecipe}},[e._v(e._s(e.recipe.title))]),r("div",{staticClass:"recipe-image-container",on:{click:e.goToRecipe}},[e.imageLoaded?e._e():r("div",{staticClass:"spinner"},[r("div",{staticClass:"spinner-border text-success",attrs:{role:"status"}},[r("span",{staticClass:"sr-only"},[e._v("Loading...")])])]),r("img",{staticClass:"recipe-image",attrs:{src:e.recipe.image},on:{load:e.handleImageLoad}})])]),r("div",{staticClass:"recipe-footer"},[r("ul",{staticClass:"recipe-overview"},[r("li",[e._v(e._s(e.recipe.readyInMinutes)+" minutes")]),r("li",[e._v(e._s(e.recipe.popularity||e.recipe.aggregateLikes)+" likes")]),r("li",[e._v(e._s(e.recipe.servings?e.recipe.servings+" servings":"")+" ")]),e.recipe.vegetarian?r("li",{attrs:{"data-placement":"top",title:"vegetarian"}},[r("i",{staticClass:"fas fa-leaf"})]):e._e(),e.recipe.vegan?r("li",{attrs:{"data-placement":"top",title:"vegan"}},[r("i",{staticClass:"fas fa-seedling",staticStyle:{color:"rgb(15, 143, 68)"}})]):e._e(),e.recipe.isWatched?r("li",[r("i",{staticClass:"fas fa-eye"})]):e._e(),this.$root.store.username?r("li",{staticClass:"fav-btn"},[r("button",{staticClass:"btn btn-link",staticStyle:{padding:"0",border:"none",background:"none"},on:{click:function(t){return e.toggleFavorite()}}},[this.isFavorite?r("i",{staticClass:"fas fa-heart",staticStyle:{color:"rgb(15, 143, 68)"}}):r("i",{staticClass:"far fa-heart",staticStyle:{color:"rgb(0, 0, 0)"}})])]):e._e()])])])],1)},n=[],s=(r("4160"),r("159b"),r("96cf"),r("1da1")),i={name:"RecipePreview",data:function(){return{imageLoaded:!1,isFavorite:this.recipe.isFavorite}},computed:{isLoggedIn:function(){return"true"===localStorage.getItem("isLoggedIn")}},methods:{goToRecipe:function(){console.log("goToRecipe",this.recipe.id),this.recipe.isWatched=!0;var e=JSON.parse(sessionStorage.getItem("lastViewed"));e?(e.push(this.recipe),sessionStorage.setItem("lastViewed",JSON.stringify(e))):sessionStorage.setItem("lastViewed",JSON.stringify([this.recipe])),this.$router.push({name:"recipe",params:{recipeId:this.recipe.id}})},handleImageLoad:function(){this.imageLoaded=!0},toggleFavorite:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$root.store.username||e.isFavorite){t.next=26;break}return e.recipe.isFavorite=!e.recipe.isFavorite,e.isFavorite=!0,t.prev=3,t.next=6,e.axios.post(e.$root.store.server_domain+"/users/favorites",{recipeId:e.recipe.id},{withCredentials:!0});case 6:r=JSON.parse(sessionStorage.getItem("recipe-"+e.recipe.id)),r&&(r.isFavorite=!0,sessionStorage.setItem("recipe-"+e.$route.params.recipeId,JSON.stringify(r))),a=JSON.parse(sessionStorage.getItem("randomRecipes")),a&&(a.forEach((function(t){t.id===e.recipe.id&&(t.isFavorite=!0)})),sessionStorage.setItem("randomRecipes",JSON.stringify(a))),e.$emit("favorite-updated",e.recipe),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),e.$root.toast("Input Error","Recipe already marked as favorite","success");case 16:return t.prev=16,t.next=19,e.axios.get(e.$root.store.server_domain+"/users/favorites");case 19:n=t.sent,sessionStorage.setItem("favorites",JSON.stringify(n.data)),t.next=26;break;case 23:t.prev=23,t.t1=t["catch"](16),e.$root.toast("Input Error",t.t1.message,"danger");case 26:case"end":return t.stop()}}),t,null,[[3,13],[16,23]])})))()}},props:{recipe:{type:Object,required:!0}}},o=i,c=(r("8ed5"),r("2877")),l=Object(c["a"])(o,a,n,!1,null,"7b51ee46",null);t["a"]=l.exports},"8ed5":function(e,t,r){"use strict";var a=r("de52"),n=r.n(a);n.a},"9c0c":function(e,t,r){},bfb3:function(e,t,r){},cac2:function(e,t,r){"use strict";var a=r("bfb3"),n=r.n(a);n.a},dc56:function(e,t,r){},de52:function(e,t,r){}});
//# sourceMappingURL=app.68e641e6.js.map