(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ecd7aaa"],{"04d1":function(e,t,r){var s=r("342f"),a=s.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},"083a":function(e,t,r){"use strict";var s=r("0d51"),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw a("Cannot delete property "+s(t)+" of "+s(e))}},1669:function(e,t,r){},2155:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.searchResults?r("div",{staticClass:"container"},[r("div",{staticClass:"gallery"},[r("div",{staticClass:"row"},e._l(e.displayedResults,(function(e){return r("div",{key:e.id,staticClass:"col-sm-6 col-md-6 col-lg-4 col-xl-4"},[r("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),0)]),r("div",{staticClass:"pagination"},[e.searchResults?r("button",{staticClass:"arrow-btn",attrs:{disabled:1===e.currentPage},on:{click:e.previousPage}},[r("i",{staticClass:"fa fa-chevron-left"})]):e._e(),e._l(e.totalPages,(function(t){return r("button",{key:t,staticClass:"page-btn",class:{active:t===e.currentPage},on:{click:function(r){return e.goToPage(t)}}},[e._v(" "+e._s(t)+" ")])})),e.searchResults?r("button",{staticClass:"arrow-btn",attrs:{disabled:e.currentPage===e.totalPages},on:{click:e.nextPage}},[r("i",{staticClass:"fa fa-chevron-right"})]):e._e()],2)]):e._e()},a=[],n=(r("fb6a"),r("832a")),i={name:"SearchResultPreview",components:{RecipePreview:n["a"]},data:function(){return{recipes:[],currentPage:1,recipesPerPage:6}},props:{searchResults:{type:Array,required:!1}},computed:{totalPages:function(){return Math.ceil(this.searchResults.length/this.recipesPerPage)},displayedResults:function(){var e=(this.currentPage-1)*this.recipesPerPage,t=e+this.recipesPerPage;return this.searchResults.slice(e,t)}},methods:{goToPage:function(e){this.currentPage=e},previousPage:function(){this.currentPage>1&&this.currentPage--},nextPage:function(){this.currentPage<this.totalPages&&this.currentPage++}}},c=i,o=(r("82d5"),r("2877")),l=Object(o["a"])(c,s,a,!1,null,"57f3d1b4",null);t["a"]=l.exports},37906:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"search-bar"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"form-control search-input",attrs:{type:"text",placeholder:"Search",list:"search-history-list"},domProps:{value:e.searchQuery},on:{focus:e.focusSearchBar,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRecipes(t)},input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),r("datalist",{attrs:{id:"search-history-list"}},e._l(e.searchHistory,(function(e){return r("option",{key:e,domProps:{value:e}})})),0)])])]),r("div",{attrs:{id:"filters"}},[r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-12 d-flex align-items-center"},[r("div",{staticClass:"mr-3"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.numberOfRecipes,expression:"numberOfRecipes"}],staticClass:"form-control bg-custom",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.numberOfRecipes=t.target.multiple?r:r[0]}}},e._l(e.numberOfRecipesOptions,(function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"mr-3"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisine,expression:"selectedCuisine"}],staticClass:"form-control bg-custom",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCuisine=t.target.multiple?r:r[0]}}},e._l(e.cuisineOptions,(function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"mr-3"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiet,expression:"selectedDiet"}],staticClass:"form-control bg-custom",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDiet=t.target.multiple?r:r[0]}}},e._l(e.dietOptions,(function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerances,expression:"selectedIntolerances"}],staticClass:"form-control bg-custom",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedIntolerances=t.target.multiple?r:r[0]}}},e._l(e.intoleranceOptions,(function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])})),0)])]),r("div",{staticClass:"col-2 d-flex mt-3"},[r("button",{staticClass:"btn btn-success btn-search",attrs:{disabled:!e.searchQuery},on:{click:e.searchRecipes}},[e._v("Search")])])])]),r("div",{staticClass:"row mt-3"},[0===e.searchResults.length?r("div",{staticClass:"col-12"},[r("div",{staticClass:"alert alert-info"},[e._v("No results found.")])]):e._e()]),e.searchResults.length>0?r("div",{staticClass:"filter-buttons"},[r("button",{staticClass:"btn btn-success btn-search",on:{click:e.sortByPopularity}},[e._v("Sort by Popularity")]),r("button",{staticClass:"btn btn-success btn-search",on:{click:e.sortByCookingTime}},[e._v("Sort by Cooking Time")])]):e._e(),r("div",{staticClass:"resultsPreview"},[r("SearchResultPreview",{attrs:{searchResults:e.filteredSearchResults}})],1),e.loading?r("div",{staticClass:"loading-overlay"},[e._m(0)]):e._e()])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loading-box"},[r("div",{staticClass:"spinner-border text-success",attrs:{role:"status"}},[r("span",{staticClass:"sr-only"},[e._v("Loading...")])]),r("span",[e._v(" Loading...")])])}],n=(r("4e82"),r("2909")),i=(r("96cf"),r("1da1")),c=r("2155"),o={cuisineOptions:["","African","Asian","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],dietOptions:["","Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],intoleranceOptions:["","Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"]},l={name:"SearchPage",components:{SearchResultPreview:c["a"]},data:function(){return{searchQuery:"",numberOfRecipes:5,numberOfRecipesOptions:[5,10,15],selectedCuisine:"",cuisineOptions:o.cuisineOptions,selectedDiet:"",dietOptions:o.dietOptions,selectedIntolerances:"",intoleranceOptions:o.intoleranceOptions,searchResults:[],filteredSearchResults:[],loading:!1,searchHistory:[]}},methods:{searchRecipes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={query:e.searchQuery,numberOfRecipes:e.numberOfRecipes,cuisine:e.selectedCuisine,diet:e.selectedDiet,intolerances:e.selectedIntolerances},t.prev=1,e.loading=!0,t.next=5,e.axios.get(e.$root.store.server_domain+"/recipes/search",{params:r});case 5:s=t.sent,e.searchResults=s.data,e.searchHistory.push(e.searchQuery),e.$root.store.username&&sessionStorage.setItem("latestSearch",JSON.stringify(s.data)),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.$root.toast("Input Error","Problen in Search","danger");case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()},getLastSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=JSON.parse(sessionStorage.getItem("latestSearch"))||null,r&&(e.searchResults=r);case 2:case"end":return t.stop()}}),t)})))()},focusSearchBar:function(){document.querySelector(".search-input").focus()},sortByPopularity:function(){this.filteredSearchResults=Object(n["a"])(this.searchResults).sort((function(e,t){return t.popularity-e.popularity}))},sortByCookingTime:function(){this.filteredSearchResults=Object(n["a"])(this.searchResults).sort((function(e,t){return e.readyInMinutes-t.readyInMinutes}))}},computed:{showFilterButtons:function(){return this.searchResults.length>0&&this.filteredResults.length>0}},mounted:function(){this.getLastSearch()},watch:{searchResults:{immediate:!0,handler:function(e){this.filteredSearchResults=Object(n["a"])(e)}}}},u=l,d=(r("a7e4"),r("2877")),h=Object(d["a"])(u,s,a,!1,null,"c894c024",null);t["default"]=h.exports},"4e82":function(e,t,r){"use strict";var s=r("23e7"),a=r("e330"),n=r("59ed"),i=r("7b0b"),c=r("07fa"),o=r("083a"),l=r("577e"),u=r("d039"),d=r("addb"),h=r("a640"),f=r("04d1"),p=r("d998"),v=r("2d00"),m=r("512c"),g=[],y=a(g.sort),b=a(g.push),C=u((function(){g.sort(void 0)})),P=u((function(){g.sort(null)})),_=h("sort"),R=!u((function(){if(v)return v<70;if(!(f&&f>3)){if(p)return!0;if(m)return m<603;var e,t,r,s,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(s=0;s<47;s++)g.push({k:t+s,v:r})}for(g.sort((function(e,t){return t.v-e.v})),s=0;s<g.length;s++)t=g[s].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),w=C||!P||!_||!R,O=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:l(t)>l(r)?1:-1}};s({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&n(e);var t=i(this);if(R)return void 0===e?y(t):y(t,e);var r,s,a=[],l=c(t);for(s=0;s<l;s++)s in t&&b(a,t[s]);d(a,O(e)),r=c(a),s=0;while(s<r)t[s]=a[s++];while(s<l)o(t,s++);return t}})},"512c":function(e,t,r){var s=r("342f"),a=s.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},"82d5":function(e,t,r){"use strict";var s=r("1669"),a=r.n(s);a.a},9393:function(e,t,r){},a7e4:function(e,t,r){"use strict";var s=r("9393"),a=r.n(s);a.a},addb:function(e,t,r){var s=r("4dae"),a=Math.floor,n=function(e,t){var r=e.length,o=a(r/2);return r<8?i(e,t):c(e,n(s(e,0,o),t),n(s(e,o),t),t)},i=function(e,t){var r,s,a=e.length,n=1;while(n<a){s=n,r=e[n];while(s&&t(e[s-1],r)>0)e[s]=e[--s];s!==n++&&(e[s]=r)}return e},c=function(e,t,r,s){var a=t.length,n=r.length,i=0,c=0;while(i<a||c<n)e[i+c]=i<a&&c<n?s(t[i],r[c])<=0?t[i++]:r[c++]:i<a?t[i++]:r[c++];return e};e.exports=n},d998:function(e,t,r){var s=r("342f");e.exports=/MSIE|Trident/.test(s)}}]);
//# sourceMappingURL=chunk-4ecd7aaa.5fae3c8e.js.map